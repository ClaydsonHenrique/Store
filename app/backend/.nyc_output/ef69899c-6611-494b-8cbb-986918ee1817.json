{"/home/claydson/Área de Trabalho/Store/app/backend/src/app.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":26},"end":{"line":9,"column":82}},"7":{"start":{"line":10,"column":27},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":31},"end":{"line":11,"column":75}},"9":{"start":{"line":12,"column":30},"end":{"line":12,"column":74}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":44}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":22}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":64}},"13":{"start":{"line":18,"column":40},"end":{"line":18,"column":62}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":59}},"15":{"start":{"line":21,"column":8},"end":{"line":21,"column":92}},"16":{"start":{"line":22,"column":8},"end":{"line":22,"column":104}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":69}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":72}},"19":{"start":{"line":28,"column":8},"end":{"line":28,"column":48}},"20":{"start":{"line":31,"column":30},"end":{"line":36,"column":9}},"21":{"start":{"line":32,"column":12},"end":{"line":32,"column":59}},"22":{"start":{"line":33,"column":12},"end":{"line":33,"column":92}},"23":{"start":{"line":34,"column":12},"end":{"line":34,"column":60}},"24":{"start":{"line":35,"column":12},"end":{"line":35,"column":19}},"25":{"start":{"line":37,"column":8},"end":{"line":37,"column":47}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":36}},"27":{"start":{"line":41,"column":8},"end":{"line":41,"column":76}},"28":{"start":{"line":41,"column":36},"end":{"line":41,"column":74}},"29":{"start":{"line":44,"column":0},"end":{"line":44,"column":18}},"30":{"start":{"line":45,"column":0},"end":{"line":45,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":18},"end":{"line":29,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":40},"end":{"line":18,"column":62}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":4},"end":{"line":30,"column":5}},"loc":{"start":{"line":30,"column":13},"end":{"line":39,"column":5}},"line":30},"4":{"name":"(anonymous_4)","decl":{"start":{"line":31,"column":30},"end":{"line":31,"column":31}},"loc":{"start":{"line":31,"column":51},"end":{"line":36,"column":9}},"line":31},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":16},"end":{"line":42,"column":5}},"line":40},"6":{"name":"(anonymous_6)","decl":{"start":{"line":41,"column":30},"end":{"line":41,"column":31}},"loc":{"start":{"line":41,"column":36},"end":{"line":41,"column":74}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":10,"11":10,"12":10,"13":0,"14":10,"15":10,"16":10,"17":10,"18":10,"19":10,"20":10,"21":9,"22":9,"23":9,"24":9,"25":10,"26":10,"27":0,"28":0,"29":1,"30":1},"f":{"0":2,"1":10,"2":0,"3":10,"4":9,"5":0,"6":0},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/app.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/app.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA+B;AAC/B,gCAA8B;AAC9B,mFAA2D;AAE3D,qEAA+E;AAC/E,4EAA8E;AAE9E,2EAA+E;AAE/E,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;QAErB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAExD,QAAQ;QACR,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,0BAAO,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAC,gCAAS,EAAE,wBAAK,CAAC,CAAC;QACzC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAC,qCAAc,EAAE,gCAAa,CAAC,CAAC;QAErD,YAAY;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,iCAAW,CAAC,CAAC;QACvC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,mCAAa,CAAC,CAAC;QAE1C,4EAA4E;QAC5E,6DAA6D;QAC7D,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,yBAAe,CAAC,CAAC;IAChC,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CACR,8BAA8B,EAC9B,mCAAmC,CACpC,CAAC;YACF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAEQ,kBAAG;AAEG,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import  express from \"express\";\nimport \"express-async-errors\";\nimport errorMiddleware from \"./middleware/errorMiddleware\";\n\nimport { Login, registreUsers, getUser } from \"./controllers/users.controller\";\nimport { erroLogin, erroCreateUser } from \"./middleware/erroLogin,middleware\";\n\nimport { AllProducts, createProduct } from \"./controllers/Prodcuts.controller\";\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.config();\n\n    // Não remover essa rota\n    this.app.get(\"/\", (req, res) => res.json({ ok: true }));\n\n    // Login\n    this.app.get(\"/login\", getUser);\n    this.app.post(\"/login\",erroLogin, Login);\n    this.app.put(\"/login\",erroCreateUser, registreUsers);\n\n    //  Produtos\n    this.app.get(\"/products\", AllProducts);\n    this.app.post(\"/products\", createProduct);\n    \n    // Não remova esse middleware de erro, mas fique a vontade para customizá-lo\n    // Mantenha ele sempre como o último middleware a ser chamado\n    this.app.use(errorMiddleware);\n  }\n\n  private config(): void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header(\"Access-Control-Allow-Origin\", \"*\");\n      res.header(\n        \"Access-Control-Allow-Methods\",\n        \"GET,POST,DELETE,OPTIONS,PUT,PATCH\"\n      );\n      res.header(\"Access-Control-Allow-Headers\", \"*\");\n      next();\n    };\n\n    this.app.use(express.json());\n    this.app.use(accessControl);\n  }\n\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n}\n\nexport { App };\n\nexport const { app } = new App();"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ffa73c28e6d354959fca1f19d2c6cd81a78316d9"},"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/errorMiddleware.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/errorMiddleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":19},"end":{"line":4,"column":42}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":59}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":23}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":48}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}}},"fnMap":{"0":{"name":"errorMiddleware","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":24}},"loc":{"start":{"line":3,"column":50},"end":{"line":8,"column":1}},"line":3}},"branchMap":{"0":{"loc":{"start":{"line":4,"column":19},"end":{"line":4,"column":42}},"type":"binary-expr","locations":[{"start":{"line":4,"column":19},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":42}}],"line":4},"1":{"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":59}},"type":"binary-expr","locations":[{"start":{"line":5,"column":20},"end":{"line":5,"column":33}},{"start":{"line":5,"column":37},"end":{"line":5,"column":59}}],"line":5}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":1},"f":{"0":0},"b":{"0":[0,0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/errorMiddleware.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/errorMiddleware.ts"],"names":[],"mappings":";;AAGA,SAAS,eAAe,CAAC,KAAmB,EAAE,IAAa,EAAE,GAAa,EAAE,KAAmB;IAC7F,MAAM,MAAM,GAAG,KAAK,CAAC,UAAU,IAAI,GAAG,CAAC;IACvC,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,sBAAsB,CAAC;IAExD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACnB,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AAC9C,CAAC;AAED,kBAAe,eAAe,CAAC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport ICustomError from '../Interfaces/erroMiddleware';\n\nfunction errorMiddleware(error: ICustomError, _req: Request, res: Response, _next: NextFunction) {\n  const status = error.statusCode || 500;\n  const message = error.message || 'Something went wrong';\n\n  console.log(error);\n  return res.status(status).json({ message });\n}\n\nexport default errorMiddleware;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f409a4d0d13a2ab735321f301d6c42f996f02287"},"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/users.controller.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/users.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":65}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":62}},"3":{"start":{"line":5,"column":14},"end":{"line":10,"column":1}},"4":{"start":{"line":6,"column":32},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":29},"end":{"line":8,"column":73}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":34}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":22}},"9":{"start":{"line":22,"column":22},"end":{"line":40,"column":1}},"10":{"start":{"line":23,"column":56},"end":{"line":23,"column":64}},"11":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"12":{"start":{"line":26,"column":8},"end":{"line":28,"column":82}},"13":{"start":{"line":31,"column":20},"end":{"line":37,"column":6}},"14":{"start":{"line":39,"column":4},"end":{"line":39,"column":41}},"15":{"start":{"line":41,"column":0},"end":{"line":41,"column":38}},"16":{"start":{"line":42,"column":16},"end":{"line":45,"column":1}},"17":{"start":{"line":43,"column":17},"end":{"line":43,"column":57}},"18":{"start":{"line":44,"column":4},"end":{"line":44,"column":38}},"19":{"start":{"line":46,"column":0},"end":{"line":46,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":14},"end":{"line":5,"column":15}},"loc":{"start":{"line":5,"column":34},"end":{"line":10,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":22},"end":{"line":22,"column":23}},"loc":{"start":{"line":22,"column":42},"end":{"line":40,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":42,"column":16},"end":{"line":42,"column":17}},"loc":{"start":{"line":42,"column":36},"end":{"line":45,"column":1}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},{"start":{"line":25,"column":4},"end":{"line":29,"column":5}}],"line":25},"1":{"loc":{"start":{"line":25,"column":8},"end":{"line":25,"column":49}},"type":"binary-expr","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":13}},{"start":{"line":25,"column":17},"end":{"line":25,"column":26}},{"start":{"line":25,"column":30},"end":{"line":25,"column":36}},{"start":{"line":25,"column":40},"end":{"line":25,"column":49}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":3,"6":3,"7":3,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1},"f":{"0":3,"1":1,"2":1},"b":{"0":[0,1],"1":[1,1,1,1]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/users.controller.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/users.controller.ts"],"names":[],"mappings":";;;AACA,+DAKoC;AAEpC,MAAM,KAAK,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAiB,EAAE;IACjE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACrC,MAAM,SAAS,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;IACtC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,sBAAK,EAAC,SAAS,CAAC,CAAC;IAChD,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAChC,CAAC,CAAC;AAyCO,sBAAK;AAvCd,gDAAgD;AAChD,0DAA0D;AAC1D,gCAAgC;AAChC,mEAAmE;AACnE,MAAM;AACN,qDAAqD;AACrD,iCAAiC;AACjC,iDAAiD;AACjD,KAAK;AAEL,aAAa;AACb,MAAM,aAAa,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAE7D,qBAAqB;IACrB,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;QAC7C,OAAO,GAAG;aACP,MAAM,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,EAAE,OAAO,EAAE,iDAAiD,EAAE,CAAC,CAAC;KACzE;IAED,0BAA0B;IAC1B,MAAM,OAAO,GAAG,MAAM,IAAA,6BAAY,EAAC;QACjC,IAAI;QACJ,QAAQ;QACR,KAAK;QACL,QAAQ;QACR,MAAM;KACP,CAAC,CAAC;IAEH,qBAAqB;IACrB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACvC,CAAC,CAAC;AAOc,sCAAa;AAL7B,MAAM,OAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IACpD,MAAM,IAAI,GAAG,MAAM,IAAA,2BAAU,GAAE,CAAC;IAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC,CAAC;AAE6B,0BAAO","sourcesContent":["import { Request, Response } from \"express\";\nimport {\n  login,\n  // getRole,\n  registerUser,\n  getallUser,\n} from \"../services/users.services\";\n\nconst Login = async (req: Request, res: Response): Promise<void> => {\n  const { email, password } = req.body;\n  const userlogin = { email, password };\n  const { status, data } = await login(userlogin);\n  res.status(status).json(data);\n};\n\n// const role = (req:Request, res:Response) => {\n//   const authorizationHeader = req.get('Authorization');\n//   if (!authorizationHeader) {\n//     return res.status(401).json({ message: 'Token not found' });\n//   }\n//   const token = authorizationHeader.split(' ')[1];\n//   const Role = getRole(token);\n//   return res.status(200).json({ role: Role });\n// };\n\n// controller\nconst registreUsers = async (req: Request, res: Response) => {\n  const { name, lastname, email, password, tumrbl } = req.body;\n\n  // Validação de dados\n  if (!name || !lastname || !email || !password) {\n    return res\n      .status(400)\n      .json({ message: \"Por favor, forneça todos os campos necessários.\" });\n  }\n\n  // Criação de novo usuário\n  const newUser = await registerUser({\n    name,\n    lastname,\n    email,\n    password,\n    tumrbl,\n  });\n\n  // Retorno de sucesso\n  return res.status(201).json(newUser);\n};\n\nconst getUser = async (req: Request, res: Response) => {\n  const user = await getallUser();\n  return res.status(200).send(user);\n};\n\nexport { Login, registreUsers, getUser };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"31c27a7276e6949b2fbcb6d8645c99699ad0f848"},"/home/claydson/Área de Trabalho/Store/app/backend/src/services/users.services.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/services/users.services.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"25":{"start":{"line":26,"column":4},"end":{"line":26,"column":62}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":62}},"27":{"start":{"line":29,"column":0},"end":{"line":29,"column":67}},"28":{"start":{"line":30,"column":15},"end":{"line":30,"column":48}},"29":{"start":{"line":31,"column":22},"end":{"line":31,"column":80}},"30":{"start":{"line":32,"column":22},"end":{"line":32,"column":53}},"31":{"start":{"line":33,"column":20},"end":{"line":33,"column":56}},"32":{"start":{"line":34,"column":14},"end":{"line":47,"column":1}},"33":{"start":{"line":35,"column":32},"end":{"line":35,"column":36}},"34":{"start":{"line":36,"column":24},"end":{"line":36,"column":81}},"35":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"36":{"start":{"line":38,"column":8},"end":{"line":38,"column":79}},"37":{"start":{"line":40,"column":28},"end":{"line":40,"column":80}},"38":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"39":{"start":{"line":42,"column":8},"end":{"line":42,"column":79}},"40":{"start":{"line":44,"column":21},"end":{"line":44,"column":32}},"41":{"start":{"line":45,"column":18},"end":{"line":45,"column":58}},"42":{"start":{"line":46,"column":4},"end":{"line":46,"column":44}},"43":{"start":{"line":48,"column":0},"end":{"line":48,"column":22}},"44":{"start":{"line":56,"column":21},"end":{"line":68,"column":1}},"45":{"start":{"line":57,"column":56},"end":{"line":57,"column":64}},"46":{"start":{"line":58,"column":21},"end":{"line":58,"column":42}},"47":{"start":{"line":59,"column":27},"end":{"line":59,"column":65}},"48":{"start":{"line":60,"column":20},"end":{"line":66,"column":6}},"49":{"start":{"line":67,"column":4},"end":{"line":67,"column":19}},"50":{"start":{"line":69,"column":0},"end":{"line":69,"column":36}},"51":{"start":{"line":70,"column":19},"end":{"line":73,"column":1}},"52":{"start":{"line":71,"column":17},"end":{"line":71,"column":54}},"53":{"start":{"line":72,"column":4},"end":{"line":72,"column":16}},"54":{"start":{"line":74,"column":0},"end":{"line":74,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":56},"end":{"line":25,"column":57}},"loc":{"start":{"line":25,"column":71},"end":{"line":27,"column":1}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":34,"column":14},"end":{"line":34,"column":15}},"loc":{"start":{"line":34,"column":30},"end":{"line":47,"column":1}},"line":34},"8":{"name":"(anonymous_8)","decl":{"start":{"line":56,"column":21},"end":{"line":56,"column":22}},"loc":{"start":{"line":56,"column":41},"end":{"line":68,"column":1}},"line":56},"9":{"name":"(anonymous_9)","decl":{"start":{"line":70,"column":19},"end":{"line":70,"column":20}},"loc":{"start":{"line":70,"column":31},"end":{"line":73,"column":1}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":25,"column":22},"end":{"line":27,"column":1}},"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":27}},{"start":{"line":25,"column":31},"end":{"line":25,"column":51}},{"start":{"line":25,"column":56},"end":{"line":27,"column":1}}],"line":25},"17":{"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":61}},"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":40}},{"start":{"line":26,"column":43},"end":{"line":26,"column":61}}],"line":26},"18":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":33}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":15}},{"start":{"line":26,"column":19},"end":{"line":26,"column":33}}],"line":26},"19":{"loc":{"start":{"line":33,"column":20},"end":{"line":33,"column":56}},"type":"binary-expr","locations":[{"start":{"line":33,"column":20},"end":{"line":33,"column":50}},{"start":{"line":33,"column":54},"end":{"line":33,"column":56}}],"line":33},"20":{"loc":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},{"start":{"line":37,"column":4},"end":{"line":39,"column":5}}],"line":37},"21":{"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":47}},"type":"binary-expr","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":20}},{"start":{"line":37,"column":24},"end":{"line":37,"column":47}}],"line":37},"22":{"loc":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},{"start":{"line":41,"column":4},"end":{"line":43,"column":5}}],"line":41}},"s":{"0":1,"1":11,"2":11,"3":11,"4":11,"5":11,"6":3,"7":11,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":11,"21":11,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":3,"34":3,"35":3,"36":1,"37":2,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1},"f":{"0":11,"1":3,"2":0,"3":1,"4":0,"5":1,"6":1,"7":3,"8":1,"9":1},"b":{"0":[1,1,1],"1":[1,0],"2":[11,0],"3":[11,0],"4":[11,11],"5":[0,11],"6":[11,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[11,0],"15":[11,11],"16":[1,1,1],"17":[1,0],"18":[1,1],"19":[1,1],"20":[1,2],"21":[3,2],"22":[1,1]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/services/users.services.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/services/users.services.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iDAAmC;AACnC,iFAAwD;AAExD,sDAAyD;AAGzD,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI,EAAE,CAAC;AAEzD,MAAM,KAAK,GAAG,KAAK,EAAE,IAAW,EAAE,EAAE;IAClC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;IACjC,MAAM,WAAW,GAAG,MAAM,qBAAU,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IACnE,IAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE;QAC3C,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,2BAA2B,EAAE,EAAE,CAAC;KACxE;IACD,MAAM,eAAe,GAAG,MAAM,MAAM,CAAC,OAAO,CAC1C,QAAQ,EACR,WAAW,CAAC,QAAQ,CACrB,CAAC;IACF,IAAI,CAAC,eAAe,EAAE;QACpB,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,2BAA2B,EAAE,EAAE,CAAC;KACxE;IACD,MAAM,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC;IAC7B,MAAM,KAAK,GAAG,IAAA,kBAAI,EAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IACpC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC;AAC1C,CAAC,CAAC;AA6BO,sBAAK;AA3Bd,sDAAsD;AACtD,wCAAwC;AACxC,mBAAmB;AACnB,2BAA2B;AAC3B,MAAM;AACN,iBAAiB;AACjB,KAAK;AAEL,MAAM,YAAY,GAAG,KAAK,EAAE,QAAoB,EAAE,EAAE;IAClD,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,QAAQ,CAAC;IAC7D,MAAM,QAAQ,GAAG,GAAG,IAAI,IAAI,QAAQ,EAAE,CAAC;IACvC,MAAM,cAAc,GAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAA;IAC9D,MAAM,OAAO,GAAG,MAAM,qBAAU,CAAC,MAAM,CAAC;QACtC,QAAQ;QACR,KAAK;QACL,MAAM;QACN,QAAQ,EAAE,cAAc;QACxB,IAAI,EAAE,MAAM;KACb,CAAC,CAAC;IACH,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AAOc,oCAAY;AAL5B,MAAM,UAAU,GAAG,KAAK,IAAI,EAAE;IAC5B,MAAM,IAAI,GAAG,MAAM,qBAAU,CAAC,OAAO,EAAE,CAAC;IACxC,OAAO,IAAI,CAAA;AACb,CAAC,CAAA;AAE6B,gCAAU","sourcesContent":["import * as bcrypt from 'bcryptjs';\nimport UserModels from \"../database/models/User.models\";\nimport { Ilogin, createUser } from \"../Interfaces/IUsers\";\nimport { verifyToken, sign } from '../utils/token.utils';\n\n\nconst SALT_ROUNDS = process.env.BCRYPT_SALT_ROUNDS || 10;\n\nconst login = async (user:Ilogin) => {\n  const { email, password } = user;\n  const verifyLogin = await UserModels.findOne({ where: { email } });\n  if (!verifyLogin || !verifyLogin.dataValues) {\n    return { status: 401, data: { message: 'Invalid email or password' } };\n  }\n  const verfifyPassword = await bcrypt.compare(\n    password,\n    verifyLogin.password,\n  );\n  if (!verfifyPassword) {\n    return { status: 401, data: { message: 'Invalid email or password' } };\n  }\n  const { role } = verifyLogin;\n  const token = sign({ email, role });\n  return { status: 200, data: { token } };\n};\n\n// const getRole = (token: string): string | null => {\n//   const decoded = verifyToken(token);\n//   if (decoded) {\n//     return decoded.role;\n//   }\n//   return null;\n// };\n\nconst registerUser = async (userData: createUser) => {\n  const { name, lastname, email, password, tumrbl } = userData;\n  const username = `${name} ${lastname}`; \n  const bcryptPassword =  bcrypt.hashSync(password, SALT_ROUNDS)\n  const newUser = await UserModels.create({\n    username,\n    email,\n    tumrbl,\n    password: bcryptPassword,\n    role: \"USER\",\n  });\n  return newUser;\n};\n\nconst getallUser = async () => {\n  const user = await UserModels.findAll();\n  return user\n}\n\nexport { login, registerUser, getallUser };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"be851899393be8f2331f4ec03447f45272e4aa75"},"/home/claydson/Área de Trabalho/Store/app/backend/src/utils/token.utils.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/utils/token.utils.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":44}},"26":{"start":{"line":27,"column":12},"end":{"line":27,"column":49}},"27":{"start":{"line":28,"column":15},"end":{"line":28,"column":62}},"28":{"start":{"line":31,"column":4},"end":{"line":38,"column":5}},"29":{"start":{"line":32,"column":22},"end":{"line":32,"column":47}},"30":{"start":{"line":33,"column":8},"end":{"line":33,"column":21}},"31":{"start":{"line":36,"column":8},"end":{"line":36,"column":54}},"32":{"start":{"line":37,"column":8},"end":{"line":37,"column":20}},"33":{"start":{"line":40,"column":0},"end":{"line":40,"column":20}},"34":{"start":{"line":43,"column":4},"end":{"line":49,"column":5}},"35":{"start":{"line":44,"column":28},"end":{"line":44,"column":53}},"36":{"start":{"line":45,"column":8},"end":{"line":45,"column":27}},"37":{"start":{"line":48,"column":8},"end":{"line":48,"column":20}},"38":{"start":{"line":51,"column":0},"end":{"line":51,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"sign","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":13}},"loc":{"start":{"line":30,"column":23},"end":{"line":39,"column":1}},"line":30},"7":{"name":"verifyToken","decl":{"start":{"line":42,"column":9},"end":{"line":42,"column":20}},"loc":{"start":{"line":42,"column":28},"end":{"line":50,"column":1}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":28,"column":15},"end":{"line":28,"column":62}},"type":"binary-expr","locations":[{"start":{"line":28,"column":15},"end":{"line":28,"column":37}},{"start":{"line":28,"column":41},"end":{"line":28,"column":62}}],"line":28}},"s":{"0":1,"1":6,"2":6,"3":6,"4":6,"5":6,"6":1,"7":6,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":6,"21":6,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":6,"1":1,"2":0,"3":1,"4":0,"5":1,"6":1,"7":0},"b":{"0":[1,1,1],"1":[1,0],"2":[6,0],"3":[6,0],"4":[6,6],"5":[0,6],"6":[6,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[6,0],"15":[6,6],"16":[1,1]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/utils/token.utils.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/utils/token.utils.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kDAAoC;AAEpC,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,qBAAqB,CAAC;AAO/D,gBAAgB;AAChB,SAAS,IAAI,CAAC,OAAqB;IACjC,IAAI;QACF,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,KAAK,CAAC;KACd;IAAC,OAAO,IAAI,EAAE;QACb,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,CAAC;QAC9C,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAYQ,oBAAI;AAVb,kBAAkB;AAClB,SAAS,WAAW,CAAC,KAAa;IAChC,IAAI;QACF,MAAM,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAiB,CAAC;QAC9D,OAAO,WAAW,CAAC;KACpB;IAAC,OAAO,GAAG,EAAE;QACZ,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAEc,kCAAW","sourcesContent":["import * as jwt from 'jsonwebtoken';\n\nconst secret = process.env.JWT_SECRET || 'vingador mais forte';\n\ntype TokenPayload = {\n  email: string;\n  role: string;\n};\n\n// criando token\nfunction sign(payload: TokenPayload): string | null {\n  try {\n    const token = jwt.sign(payload, secret);\n    return token;\n  } catch (erro) {\n    console.log('Erro na geracao do token', erro);\n    return null;\n  }\n}\n\n// validando token\nfunction verifyToken(token: string): TokenPayload | null {\n  try {\n    const tokenVerify = jwt.verify(token, secret) as TokenPayload;\n    return tokenVerify;\n  } catch (err) {\n    return null;\n  }\n}\n\nexport { sign, verifyToken };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2e67bb33ae52810009da900c2c544ee408dc2049"},"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/erroLogin,middleware.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/erroLogin,middleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":80}},"5":{"start":{"line":8,"column":18},"end":{"line":14,"column":1}},"6":{"start":{"line":9,"column":32},"end":{"line":9,"column":40}},"7":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":84}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":11}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}},"11":{"start":{"line":16,"column":23},"end":{"line":28,"column":1}},"12":{"start":{"line":17,"column":48},"end":{"line":17,"column":56}},"13":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"14":{"start":{"line":19,"column":8},"end":{"line":19,"column":78}},"15":{"start":{"line":21,"column":21},"end":{"line":21,"column":42}},"16":{"start":{"line":22,"column":22},"end":{"line":22,"column":79}},"17":{"start":{"line":23,"column":22},"end":{"line":23,"column":82}},"18":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"19":{"start":{"line":25,"column":8},"end":{"line":25,"column":78}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":11}},"21":{"start":{"line":29,"column":0},"end":{"line":29,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":18},"end":{"line":8,"column":19}},"loc":{"start":{"line":8,"column":38},"end":{"line":14,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":23},"end":{"line":16,"column":24}},"loc":{"start":{"line":16,"column":49},"end":{"line":28,"column":1}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},{"start":{"line":10,"column":4},"end":{"line":12,"column":5}}],"line":10},"4":{"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":27}},"type":"binary-expr","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":14}},{"start":{"line":10,"column":18},"end":{"line":10,"column":27}}],"line":10},"5":{"loc":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},{"start":{"line":18,"column":4},"end":{"line":20,"column":5}}],"line":18},"6":{"loc":{"start":{"line":18,"column":8},"end":{"line":18,"column":49}},"type":"binary-expr","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":14}},{"start":{"line":18,"column":18},"end":{"line":18,"column":23}},{"start":{"line":18,"column":27},"end":{"line":18,"column":36}},{"start":{"line":18,"column":40},"end":{"line":18,"column":49}}],"line":18},"7":{"loc":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},{"start":{"line":24,"column":4},"end":{"line":26,"column":5}}],"line":24},"8":{"loc":{"start":{"line":24,"column":8},"end":{"line":24,"column":30}},"type":"binary-expr","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":17}},{"start":{"line":24,"column":21},"end":{"line":24,"column":30}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":5,"7":5,"8":2,"9":3,"10":1,"11":1,"12":3,"13":3,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":1},"f":{"0":1,"1":5,"2":3},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,3],"4":[5,4],"5":[1,2],"6":[3,3,3,2],"7":[1,1],"8":[2,2]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/erroLogin,middleware.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/middleware/erroLogin,middleware.ts"],"names":[],"mappings":";;;;;;AACA,iFAAmD;AAEnD,MAAM,SAAS,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACpE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IACrC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;QACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iCAAiC,EAAE,CAAC,CAAC;KAC7E;IACD,IAAI,EAAE,CAAC;AACT,CAAC,CAAC;AAsBO,8BAAS;AApBlB,MAAM,cAAc,GAAG,KAAK,EAC1B,GAAY,EACZ,GAAa,EACb,IAAkB,EAClB,EAAE;IACF,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAErD,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,EAAE;QAC7C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,2BAA2B,EAAC,CAAC,CAAC;KACrE;IAED,MAAM,QAAQ,GAAG,GAAG,IAAI,IAAI,QAAQ,EAAE,CAAC;IACvC,MAAM,SAAS,GAAG,MAAM,qBAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5D,MAAM,SAAS,GAAG,MAAM,qBAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC/D,IAAI,SAAS,IAAI,SAAS,EAAE;QAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IACD,IAAI,EAAE,CAAC;AACT,CAAC,CAAC;AAEkB,wCAAc","sourcesContent":["import { NextFunction, Request, Response } from \"express\";\nimport Users from \"../database/models/User.models\";\n\nconst erroLogin = (req: Request, res: Response, next: NextFunction) => {\n  const { email, password } = req.body;\n  if (!email || !password) {\n    return res.status(401).json({ message: \"Email and Password are required\" });\n  }\n  next();\n};\n\nconst erroCreateUser = async (\n  req: Request,\n  res: Response,\n  next: NextFunction\n) => {\n  const { email, name, lastname, password } = req.body;\n  \n  if (!email || !name || !lastname || !password) {\n    return res.status(400).json({message: \"All fields are necessary.\"});\n  }\n  \n  const username = `${name} ${lastname}`;\n  const userEmail = await Users.findOne({ where: { email } });\n  const usernames = await Users.findOne({ where: { username } });\n  if (usernames || userEmail) {\n    return res.status(409).json({ message: \"This User already exists.\" });\n  }\n  next();\n};\n\nexport { erroLogin, erroCreateUser };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"002ea94ea5000cf351165ddd3e54aa0ad465af98"},"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/Prodcuts.controller.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/Prodcuts.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":53}},"2":{"start":{"line":4,"column":28},"end":{"line":4,"column":68}},"3":{"start":{"line":5,"column":20},"end":{"line":8,"column":1}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":68}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":35}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"7":{"start":{"line":10,"column":22},"end":{"line":23,"column":1}},"8":{"start":{"line":11,"column":85},"end":{"line":11,"column":93}},"9":{"start":{"line":12,"column":22},"end":{"line":21,"column":6}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":20},"end":{"line":5,"column":21}},"loc":{"start":{"line":5,"column":40},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":22},"end":{"line":10,"column":23}},"loc":{"start":{"line":10,"column":42},"end":{"line":23,"column":1}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":26}},"type":"binary-expr","locations":[{"start":{"line":17,"column":15},"end":{"line":17,"column":20}},{"start":{"line":17,"column":24},"end":{"line":17,"column":26}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":1,"8":0,"9":0,"10":0,"11":1},"f":{"0":0,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/Prodcuts.controller.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/controllers/Prodcuts.controller.ts"],"names":[],"mappings":";;;AACA,qEAA2E;AAE3E,MAAM,WAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IACxD,MAAM,QAAQ,GAAG,MAAM,IAAA,kCAAc,GAAE,CAAC;IACxC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACjC,CAAC,CAAC;AA2BO,kCAAW;AAzBpB,MAAM,aAAa,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,MAAM,EACJ,WAAW,EACX,SAAS,EACT,KAAK,EACL,MAAM,EACN,KAAK,EACL,SAAS,EACT,KAAK,EACL,GAAG,GACJ,GAAG,GAAG,CAAC,IAAI,CAAC;IAEb,MAAM,SAAS,GAAG,MAAM,IAAA,8BAAU,EAAC;QACjC,WAAW;QACX,SAAS;QACT,KAAK;QACL,MAAM;QACN,KAAK,EAAE,KAAK,IAAI,EAAE;QAClB,SAAS;QACT,KAAK;QACL,GAAG;KACJ,CAAC,CAAC;IACH,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;AACjC,CAAC,CAAC;AAEoB,sCAAa","sourcesContent":["import { Request, Response } from \"express\";\nimport { getAllProducts, addProduct } from \"../services/Products.services\";\n\nconst AllProducts = async (req: Request, res: Response) => {\n  const products = await getAllProducts();\n  res.status(201).json(products);\n};\n\nconst createProduct = async (req: Request, res: Response) => {\n  const {\n    productName,\n    descricao,\n    preco,\n    genero,\n    promo,\n    categoria,\n    marca,\n    cor,\n  } = req.body;\n  \n  const productId = await addProduct({\n    productName,\n    descricao,\n    preco,\n    genero,\n    promo: promo || \"\",\n    categoria,\n    marca,\n    cor,\n  });\n  res.status(201).json(productId)\n};\n\nexport { AllProducts, createProduct };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ec2b75b247cd7dfb4385f17dfb1d8e0ef737568a"},"/home/claydson/Área de Trabalho/Store/app/backend/src/services/Products.services.ts":{"path":"/home/claydson/Área de Trabalho/Store/app/backend/src/services/Products.services.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":25},"end":{"line":7,"column":86}},"5":{"start":{"line":8,"column":29},"end":{"line":8,"column":94}},"6":{"start":{"line":9,"column":29},"end":{"line":9,"column":94}},"7":{"start":{"line":10,"column":29},"end":{"line":10,"column":94}},"8":{"start":{"line":11,"column":23},"end":{"line":29,"column":1}},"9":{"start":{"line":12,"column":24},"end":{"line":27,"column":6}},"10":{"start":{"line":28,"column":4},"end":{"line":28,"column":23}},"11":{"start":{"line":30,"column":0},"end":{"line":30,"column":40}},"12":{"start":{"line":31,"column":19},"end":{"line":64,"column":1}},"13":{"start":{"line":32,"column":19},"end":{"line":34,"column":6}},"14":{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},"15":{"start":{"line":36,"column":8},"end":{"line":38,"column":11}},"16":{"start":{"line":40,"column":16},"end":{"line":40,"column":97}},"17":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"18":{"start":{"line":42,"column":8},"end":{"line":44,"column":11}},"19":{"start":{"line":46,"column":14},"end":{"line":46,"column":93}},"20":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"21":{"start":{"line":48,"column":8},"end":{"line":51,"column":11}},"22":{"start":{"line":53,"column":20},"end":{"line":62,"column":6}},"23":{"start":{"line":63,"column":4},"end":{"line":63,"column":42}},"24":{"start":{"line":65,"column":0},"end":{"line":65,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":23},"end":{"line":11,"column":24}},"loc":{"start":{"line":11,"column":35},"end":{"line":29,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":31,"column":19},"end":{"line":31,"column":20}},"loc":{"start":{"line":31,"column":36},"end":{"line":64,"column":1}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},{"start":{"line":35,"column":4},"end":{"line":39,"column":5}}],"line":35},"4":{"loc":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},{"start":{"line":41,"column":4},"end":{"line":45,"column":5}}],"line":41},"5":{"loc":{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":52,"column":5}},{"start":{"line":47,"column":4},"end":{"line":52,"column":5}}],"line":47},"6":{"loc":{"start":{"line":57,"column":15},"end":{"line":57,"column":32}},"type":"binary-expr","locations":[{"start":{"line":57,"column":15},"end":{"line":57,"column":26}},{"start":{"line":57,"column":30},"end":{"line":57,"column":32}}],"line":57}},"s":{"0":1,"1":4,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":4,"1":0,"2":0},"b":{"0":[1,1,1],"1":[4,0],"2":[4,4],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"file":"/home/claydson/Área de Trabalho/Store/app/backend/src/services/Products.services.ts","sources":["/home/claydson/Área de Trabalho/Store/app/backend/src/services/Products.services.ts"],"names":[],"mappings":";;;;;;AAAA,uFAAyD;AACzD,+FAA+D;AAC/D,+FAA2D;AAC3D,+FAA0D;AAE1D,MAAM,cAAc,GAAG,KAAK,IAAI,EAAE;IAChC,MAAM,WAAW,GAAG,MAAM,wBAAQ,CAAC,OAAO,CAAC;QACzC,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,4BAAU;gBACjB,EAAE,EAAE,OAAO;aACZ;YACD;gBACE,KAAK,EAAE,4BAAM;gBACb,EAAE,EAAE,OAAO;aACZ;YACD;gBACE,KAAK,EAAE,4BAAK;gBACZ,EAAE,EAAE,OAAO;aACZ;SACF;KACF,CAAC,CAAC;IAEH,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC;AA2DQ,wCAAc;AA3CxB,MAAM,UAAU,GAAG,KAAK,EAAE,KAAkB,EAAE,EAAE;IAC9C,IAAI,QAAQ,GAAG,MAAM,4BAAU,CAAC,OAAO,CAAC;QACtC,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE;KACtC,CAAC,CAAC;IAGH,IAAI,CAAC,QAAQ,EAAE;QACb,QAAQ,GAAG,MAAM,4BAAU,CAAC,MAAM,CAAC;YACjC,SAAS,EAAE,KAAK,CAAC,SAAS;SAC3B,CAAC,CAAC;KACJ;IAED,IAAI,KAAK,GAAG,MAAM,4BAAM,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAExE,IAAI,CAAC,KAAK,EAAE;QACV,KAAK,GAAG,MAAM,4BAAM,CAAC,MAAM,CAAC;YAC1B,SAAS,EAAE,KAAK,CAAC,KAAK;SACvB,CAAC,CAAC;KACJ;IAED,IAAI,GAAG,GAAG,MAAM,4BAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;IAEnE,IAAI,CAAC,GAAG,EAAE;QACR,GAAG,GAAG,MAAM,4BAAK,CAAC,MAAM,CAAC;YACvB,SAAS,EAAE,KAAK,CAAC,GAAG;YACpB,QAAQ,EAAE,EAAE;SACb,CAAC,CAAC;KACJ;IAED,MAAM,OAAO,GAAG,MAAM,wBAAQ,CAAC,MAAM,CAAC;QACpC,WAAW,EAAE,KAAK,CAAC,WAAW;QAC9B,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,KAAK,EAAE,KAAK,CAAC,KAAK;QAClB,KAAK,EAAE,KAAK,CAAC,KAAK,IAAI,EAAE;QACxB,MAAM,EAAE,KAAK,CAAC,MAAM;QACpB,YAAY,EAAE,QAAQ,CAAC,EAAE;QACzB,QAAQ,EAAE,KAAK,CAAC,EAAE;QAClB,OAAO,EAAE,GAAG,CAAC,EAAE;KAChB,CAAC,CAAC;IAEH,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;AACxC,CAAC,CAAC;AAEwB,gCAAU","sourcesContent":["import Products from \"../database/models/Products.model\";\nimport Categorias from \"../database/models/categProduct.model\";\nimport Marcas from \"../database/models/marcaProduct.model\";\nimport Cores from \"../database/models/colorProduct.model\";\n\nconst getAllProducts = async () => {\n  const allProducts = await Products.findAll({\n    include: [\n      {\n        model: Categorias,\n        as: \"categ\",\n      },\n      {\n        model: Marcas,\n        as: \"marca\",\n      },\n      {\n        model: Cores,\n        as: \"color\",\n      },\n    ],\n  });\n\n  return allProducts;\n};\n\n\n\ninterface IaddProduct {\n  productName: string;\n  descricao: string;\n  preco: string;\n  genero: string;\n  promo?: string;\n  categoria: string;\n  marca: string;\n  cor: string;\n}\n\n\nconst addProduct = async (param: IaddProduct) => {\n  let category = await Categorias.findOne({\n    where: { categName: param.categoria },\n  });\n\n\n  if (!category) {\n    category = await Categorias.create({\n      categName: param.categoria,\n    });\n  }\n\n  let marca = await Marcas.findOne({ where: { brandName: param.marca } });\n\n  if (!marca) {\n    marca = await Marcas.create({\n      brandName: param.marca,\n    });\n  }\n\n  let cor = await Cores.findOne({ where: { colorName: param.cor } });\n\n  if (!cor) {\n    cor = await Cores.create({\n      colorName: param.cor,\n      quantity: 40, \n    });\n  }\n\n  const product = await Products.create({\n    productName: param.productName,\n    descricao: param.descricao,\n    preco: param.preco,\n    promo: param.promo || \"\",\n    genero: param.genero,\n    categoriasId: category.id,\n    marcasId: marca.id,\n    coresId: cor.id,\n  });\n\n  return { status: 201, data: product };\n};\n\nexport  { getAllProducts, addProduct };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f547ae33e458dd396c5d95807cae7b8e7fd79b84"}}